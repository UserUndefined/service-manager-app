<div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-8 col-md-offset-1 col-lg-offset-2">
            <div>
                <p>{{order.customer.name}}, {{order.customer.postcode}}</p>
            </div>
            <form name="newServiceForm" class="form-horizontal">
                <div class="form-group row">
                    <div class="col-sm-3">
                        <ui-select ng-model="newItem.product" theme="selectize" title="Select a Product">
                            <ui-select-match placeholder="Select a Product">{{$select.selected.product.name}}</ui-select-match>
                            <ui-select-choices repeat="serviceProduct.product as serviceProduct in serviceProducts | filter: $select.search">
                                <span ng-bind-html="serviceProduct.product.name | highlight: $select.search"></span>
                                <small ng-bind-html="serviceProduct.product.code | highlight: $select.search"></small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div class="col-sm-3">
                        <ui-select ng-model="newItem.area" theme="selectize" title="Select an Area">
                            <ui-select-match placeholder="Select an Area">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="area in areas | filter: $select.search">
                                <span ng-bind-html="area.name | highlight: $select.search"></span>
                                <small ng-bind-html="area.code | highlight: $select.search"></small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div class="col-sm-3">
                        <ui-select ng-model="newItem.heading" theme="selectize" title="Select a Heading">
                            <ui-select-match placeholder="Select a Heading">{{$select.selected.name}}</ui-select-match>
                            <ui-select-choices repeat="heading in headings | filter: $select.search">
                                <span ng-bind-html="heading.name | highlight: $select.search"></span>
                                <small ng-bind-html="heading.code | highlight: $select.search"></small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div class="btn-group col-sm-3">
                        <button id="single-button-new-item" type="button" class="btn btn-primary" ng-click="addNewService()">Add</button>
                    </div>
                </div>
            </form>
            <p ng-if="order.totalValue > 0"></p>
            <div layout="column">
                <ul class="list-group">
                    <li class="list-group-item" ng-repeat="service in order.services">
                        <a href="#" class="list-group-item list-group-item-action active">
                            <h5 class="list-group-item-heading">{{service.product.name}}</h5>
                            <p class="list-group-item-text">{{service.area.name}}</p>
                            <p class="list-group-item-text">{{service.heading.name}}</p>
                            <p class="list-group-item-text">£{{service.product.price}}</p>
                        </a>
                    </li>
                </ul>
                <p>Total: £{{order.totalValue}}</p>
                <button ng-disabled="order.totalValue == 0" class="btn btn-primary btn-block" ng-click="saveNewOrder()">Save Order</button>
            </div>
        </div>
    </div>
</div>

